<html>

<head>
    <meta charset="utf8" />
    <title>ScrapbookQ 使用说明</title>
</head>

<body>
    <h1>ScrapbookQ 安装指南</h1>
    欢迎使用ScrapbookQ
    <br> 安装过程很简单，最简单的自动化安装只需要点一下按钮，执行一个命令即可
    <br> 对于计算机专家也可以按照说明选择手动安装
    <br> 以下步骤假定：
    <br> 用户主目录为(/home/yourname)，浏览器默认下载目录为(/home/yourname/Downloads)
    <br> 请根据实际情况进行相应修改
    <br>
    <h2>自动化安装步骤</h2>
    <ol>
        <li>
            <button id="initScrapbookQDirectory">初始化</button>点击初始化按钮，记住打开的下载目录路径</li>
            <li>windows用户在打开的下载目录里找到scrapbookq目录，执行scrapbookq目录里面的init_scrapbookq.bat批处理文件</li>
        <li>linux用户在控制台执行以下命令(替换
            <span style="color:red">yourname/Downloads</span>为打开的下载目录路径)：
            <br>
            <p>cd /home/
                <span style="color:red">yourname/Downloads</span>/scrapbookq;chmod +x scrapbookqmsg;./scrapbookqmsg init</p>
        </li>
        <li>重新启动firefox浏览器</li>
    </ol>
    <h2>简单安装步骤</h2>
    <ol>
        <li>点击初始化按钮</li>
        <li>移动 /home/yourname/Downloads/scrapbookq/native-messaging-hosts 到 ~/.mozilla/</li>
        <li>编辑 native-messaging-hosts/scrapbookqmsg.json，修改"path"</li>
        <li>编辑 ~/Downlaods/scrapbookq/scrapbookq.conf，修改rdfpath</li>
        <li>chmod +x scrapbookqmsg;./scrapbookqmsg</li>
    </ol>
    <h2>详细安装步骤</h2>
    <ol>
        <li>安装ScrapbookQ插件，能看到此文档说明已经初步安装好了</li>
        <li>点击按钮初始化ScrapbookQ文件夹和文件(/home/yourname/Downloads/scrapbookq)</li>
        <li>打开scrapbookeq目录，移动(native-messaging-hosts)文件夹到firefox配置文件夹里(/home/yourname/.mozilla/)</li>
        <li>编辑(native-messaging-hosts)文件夹里的文件(scrapbookqmsg.json)</li>
        <li>修改(scrapbookqmsg.json)里面"path"一项的值为scrapbookq文件夹里scrapbookqmsg文件的路径</li>
        <li>修改完成后大概这个样子：("path": "/home/yourname/Downloads/scrapbookq/scrapbookqmsg")</li>
        <li>编辑scrapbookq目录里的配置文件scrapbookq.conf，将rdfpath的值修改为ScrapBook目录的路径</li>
        <li>修改完成后大概这个样子：(rdfpath = /home/windowsD/Documents/firefox/ScrapBook/)</li>
        <li>最后设置本地程序文件可执行属性：chmode +x scrapbookqmsg</li>
        <li>修改保存文件后重新启动浏览器会看到侧边栏里的ScrapbookQ目录</li>
    </ol>
    <h2>安装配置完成后文件夹及文件</h2>
    <ul>
        <li>文件夹及文件
            <ol>
                <li>/home/yourname/Downloads/scrapbookq/</li>
                <li>/home/yourname/Downloads/scrapbookq/scrapbookq.conf</li>
                <li>/home/yourname/Downloads/scrapbookq/scrapbookq.rdf</li>
                <li>/home/yourname/Downloads/scrapbookq/scrapbookqmsg</li>
                <li>/home/yourname/.mozilla/native-messaging-hosts/</li>
                <li>/home/yourname/.mozilla/native-messaging-hosts/scrapbookqmsg.json</li>
            </ol>
        </li>
        <li>配置文件</li>
        <ul>
            <li>/home/yourname/Downloads/scrapbookq/scrapbookq.conf
                <br>
                <textarea rows="3" cols="30">
rdfpath=/home/windowsC/Documents/firefox/ScrapBook/
rdfloaded=0
serverport=33338
                </textarea>

            </li>
            <li>/home/yourname/.mozilla/native-messaging-hosts/scrapbookqmsg.json
                <br>
                <textarea rows="7" cols="30">
{
  "name": "scrapbookqmsg",
  "description": "ScrapBookQ host for native messaging",
  "path": "/home/yourname/Downloads/scrapbookq/scrapbookqmsg",  
  "type": "stdio",
  "allowed_extensions": [ "tahama@163.com" ]
}
                </textarea>
            </li>
        </ul>
    </ul>
    <h1>ScrapbookQ 使用说明</h1>
    <ol>
        <li>安装ScrapbookQ插件后，会在浏览器工具栏添加一个ScrapbookQ图标
            <img src="../../icons/main.png" />
        </li>
        <li>鼠标左键点击工具栏ScrapbookQ图标
            <img src="../../icons/main.png" />会在浏览器侧边栏打开ScrapbookQ目录</li>
        <li>如果浏览器侧边栏里没有出现ScrapbookQ目录请在浏览器侧边栏顶部下拉列表里选中ScrapbookQ</li>
        <li>全新安装ScrapbookQ插件后需要初始化ScrapbookQ文件夹和文件：
            <button>初始化</button>
        </li>
        <li>点击按钮完成初始化后，会在用户浏览器默认下载目录里新建scrapbook文件夹及必要的配置文件和本地程序文件</li>
        <li>在浏览器侧边栏里打开的ScrapbookQ目录页面上，可以通过鼠标右键菜单管理ScrapbookQ目录</li>
        <li>安装ScrapbookQ插件后，在浏览器鼠标右键菜单会出现ScrapbookQ菜单和菜单项：
            <ul>
                <li>保存页面： 保存当前打开的页面到ScrapbookQ目录里</li>
                <li>切换侧边栏： 打开/关闭浏览器侧边栏</li>
                <li>打开下载目录： 打开浏览器默认下载目录，ScrapbookQ目录就放在这里</li>
            </ul>
        </li>

        <li>ScrapbookQ目录页面上可以进行以下操作：
            <table border="1">
                <tr>
                    <td colspan="2">鼠标左键</td>
                    <td>在当前标签页打开点击对象的ScrapbookQ文件链接</td>
                </tr>
                <tr>
                    <td rowspan="7">右键菜单</td>
                    <td>
                        <img src="../../icons/file0.png" />在新建标签页中打开</td>
                    <td>在新建标签页打开点击对象的ScrapbookQ文件链接</td>
                </tr>
                <tr>
                    <td>
                        <img src="../../icons/file1.png" />打开源链接</td>
                    <td>在当前标签页打开点击对象的初始URL链接</td>
                </tr>
                <tr>
                    <td>
                        <img src="../../icons/folder0.png" />新建文件夹</td>
                    <td>在点击对象之前新建文件夹</td>
                </tr>
                <tr>
                    <td>
                        <img src="../../icons/star0.png" />属性</td>
                    <td>查看点击对象的属性</td>
                </tr>
                <tr>
                    <td>
                        <img src="../../icons/delete.png" />剪切</td>
                    <td>剪切点击对象的文件链接或者文件夹</td>
                </tr>
                <tr>
                    <td>
                        <img src="../../icons/file1.png" />粘贴</td>
                    <td>粘贴已剪切的文件链接或者文件夹到点击对象之前/之内</td>
                </tr>
                <tr>
                    <td>
                        <img src="../../icons/delete.png" />删除</td>
                    <td>删除点击对象的文件链接或者文件夹</td>
                </tr>
            </table>
        </li>
        <li>随时可以点击浏览器工具栏的ScrapbookQ图标
            <img src="../../icons/main.png" />激活本页面，也可以右击图标激活右键菜单</li>
    </ol>
    <h1>导入ScrapBook数据</h1>
    <ol>
        <li>修改scrapbookq/scrapbookq.conf</li>
        <li>在rdfpath值的末尾添加ScrapBook数据文件scrapbook.rdf所在路径</li>
        <li>大概这个样子：rdfpath = /home/windowsD/Documents/firefox/ScrapBook/</li>
        <li>重新启动firefox浏览器、如果原有ScrapBook数据比较多，第一次读取数据会有点慢</li>
    </ol>
    <script type="text/javascript" src="initscrapbookqdir.js"></script>
</body>

</html>
